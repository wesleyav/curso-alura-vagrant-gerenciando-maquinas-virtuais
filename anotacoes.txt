# Configuração de Vagrant em máquina Windows

# Download do VirtualBox 6.0.4
# https://download.virtualbox.org/virtualbox/6.0.4/VirtualBox-6.0.4-128413-Win.exe

# Download do Vagrant
# https://releases.hashicorp.com/vagrant/2.2.3/vagrant_2.2.3_x86_64.msi

# Após instalação, verificar no prompt se está ok e versão instalada com:
$ vagrant version

# Dentro da pasta do projeto criar inicialização:
$ vagrant init hashicorp/precise64

# Subir máquina virtual (pode ser necessário habilitar Hyper-v no Windows)
$ vagrant up
# Aqui vai baixar alguns arquivos e subir o ambiente

# Verificar status
$ vagrant status

# Desligar vm
$ vagrant halt

# Visualizar configurações ssh
$ vagrant ssh-config

# Conectar em porta do ssh
$ vagrant -p 222 vagrant@127.0.0.1
# user vagrant / senha vagrant

#################################################

# Acessando o ubuntu (no caso), atualize os pacotes com:
$ sudo apt-get update

# Instalar o nginx
$ sudo apt-get install -y nginx

# Visualizar portas
$ netstat -lntp

# Testar o nginx via terminal:
$ curl http://localhost

# Adicionar a linha de configuração de Forward para a VM no arquivo Vagrantfile:
$ config.vm.network "forwarded_port", guest: 80, host: 8080

# Reiniciar a VM com:
$ vagrant halt
$ vagrant up

# Acessar pelo navegador o caminho do servidor Nginx:
# localhost:8080 (inserir o ip definido no Vagrantfile

# Adicionar IP Estático
# Adicionar a linha de configuração de Forward para a VM no arquivo Vagrantfile:
$ config.vm.network "private_network", ip: "192.168.50.4"

# Recarregar VM
$ vagrant reload (nem sempre funciona)

#################################################



















